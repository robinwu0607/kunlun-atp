(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19b764f8"],{"126f":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{attrs:{fluid:"","pa-0":""}},[e("v-row",{attrs:{"no-gutters":""}},[e("ToolBar",{attrs:{version:t.version},on:{setMode:t.setMode}}),t._l(t.containerList,(function(n,o){return e("v-col",{key:o,attrs:{cols:"3"}},[e("Panel",{attrs:{container:n.value,mode:t.mode},on:{closeQuestion:t.closeQuestion}})],1)}))],2),e("AskQuestion",{attrs:{question:t.question,containerName:t.containerName}})],1)},s=[],i=(e("4160"),e("b0c0"),e("ac1f"),e("5319"),e("1276"),e("159b"),e("393d")),a=e("bddc"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{staticStyle:{"padding-bottom":"0px"},attrs:{fluid:"","pa-1":""}},[e("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var o=n.hover;return[e("v-card",{class:{"on-hover":o},attrs:{elevation:o?5:3,color:t.containerColor,height:"175px"}},[e("v-card-title",[e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"10"}},[e("span",[e("a",{attrs:{href:"#/kunlun/"+t.container.name.replace(":","/").toLowerCase()}},[e("h3",{staticClass:"black--text font-weight-light"},[t._v(t._s(t.container.name))])])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.testTime,expression:"testTime"}],staticClass:"black--text body-2"},[t._v(t._s(t.hours+":"+t.minutes+":"+t.seconds))]),e("br"),e("v-divider",{staticStyle:{"margin-top":"-3px"}}),e("span",{staticClass:"black--text body-2"},[t._v(t._s(t.container.display1))]),e("br"),e("v-divider",{staticStyle:{"margin-top":"-3px"}}),e("span",{staticClass:"black--text body-2"},[t._v(t._s(t.container.display2))]),e("br"),e("v-divider",{staticStyle:{"margin-top":"-3px"}}),e("span",{staticClass:"black--text body-2"},[t._v(t._s(t.container.display3))]),e("br")],1),e("v-col",{attrs:{cols:"2"}},[e("span",[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,s=n.attrs;return[e("v-btn",t._g(t._b({attrs:{icon:"",color:"black"},on:{click:t.containerActionClick}},"v-btn",s,!1),o),[e("v-icon",[t._v(t._s(t.containerIcon))])],1)]}}],null,!0)},[e("span",[t._v(t._s(t.containerAction))])]),e("v-spacer"),e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,s=n.attrs;return[e("v-icon",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:"idle"!==t.container.status,expression:"container.status !== 'idle'"}],attrs:{color:"black",dark:""}},"v-icon",s,!1),o),[t._v(" "+t._s(t.modeIcon)+" ")])]}}],null,!0)},[e("span",[t._v(t._s(t.container.mode)+", by "+t._s(t.container.starter))])]),e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,s=n.attrs;return[e("v-icon",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:"fail"===t.container.status,expression:"container.status === 'fail'"}],attrs:{color:"black",dark:""}},"v-icon",s,!1),o),[t._v(" sentiment_very_dissatisfied ")])]}}],null,!0)},[e("span",[t._v("FAIL")])]),e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,s=n.attrs;return[e("v-icon",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:"stop"===t.container.status,expression:"container.status === 'stop'"}],attrs:{color:"black",dark:""}},"v-icon",s,!1),o),[t._v(" mood_bad ")])]}}],null,!0)},[e("span",[t._v("Stopped by "+t._s(t.container.stopper))])]),e("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.container.queue,expression:"container.queue"}],attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,s=n.attrs;return[e("v-icon",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.container.queue,expression:"container.queue"}],attrs:{color:"black",dark:""}},"v-icon",s,!1),o),[t._v(" screen_lock_portrait ")])]}}],null,!0)},[e("span",[t._v("In Queue")])]),e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,s=n.attrs;return[e("v-icon",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.container.sync,expression:"container.sync"}],attrs:{color:"black",dark:""}},"v-icon",s,!1),o),[t._v(" mdi-sync ")])]}}],null,!0)},[e("span",[t._v("In Sync Up")])])],1),e("v-spacer")],1)],1)],1)],1)]}}])}),e("v-dialog",{attrs:{"max-width":"800"},model:{value:t.dialog,callback:function(n){t.dialog=n},expression:"dialog"}},[e("v-card",[e("v-card-title"),e("v-card-text",[e("h1",{staticClass:"black--text font-weight-light"},[t._v(t._s(t.container.name)+" Are You Sure to Stop Test? ")])]),e("v-card-actions",{staticClass:"justify-end"},[e("v-btn",{attrs:{color:"error"},on:{click:t.containerActionClick}},[t._v("Confirm")]),e("v-btn",{attrs:{color:"primary"},on:{click:function(n){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},c=[],u={name:"ContainerPanel",props:["container","mode"],data:function(){return{dialog:!1,timeCounter:null,hours:0,minutes:0,seconds:0,counter:0}},computed:{containerAction:function(){return"idle"===this.container.status?"Start Test":"run"===this.container.status?"Stop Test":"stop"===this.container.status||"fail"===this.container.status||"pass"===this.container.status?"Deposit Test":"Start Test"},containerIcon:function(){return"idle"===this.container.status?"play_arrow":"run"===this.container.status?"highlight_off":"stop"===this.container.status||"fail"===this.container.status||"pass"===this.container.status?"delete_forever":"play_arrow"},containerColor:function(){return this.questionContainer===this.container.name&&"run"===this.container.status?"info":"run"===this.container.status?"orange":"idle"===this.container.status?"":"fail"===this.container.status||"stop"===this.container.status?"error":"pass"===this.container.status?"success":"primary"},modeIcon:function(){return"PRODUCT"===this.container.mode?"stars":"DEVELOP"===this.container.mode?"bug_report":"stars"},testTime:function(){return this.container.test_time?this.container.test_time:""}},watch:{testTime:function(){this.testTime&&"run"===this.container.status?(this.counter=parseInt(this.testTime),this.startCount()):this.stopCounter()}},mounted:function(){this.counter=parseInt(this.container.test_time),this.calcTimer(),this.testTime&&"run"===this.container.status&&this.startCount()},destroyed:function(){this.stopCounter()},methods:{startCount:function(){this.timeCounter||(this.counter=0,this.timeCounter=setInterval(this.calcTimer,1e3))},calcTimer:function(){this.seconds=this.timerFormat(++this.counter%60),this.minutes=this.timerFormat(parseInt(this.counter/60,10)%60),this.hours=this.timerFormat(parseInt(this.counter/3600,10))},timerFormat:function(t){return t?t>9?t:"0"+t:"00"},stopCounter:function(){clearInterval(this.timeCounter),this.timeCounter=null},containerActionClick:function(){var t="deposit-test";if("idle"===this.container.status&&(t="start-test"),"run"===this.container.status){if(0==this.dialog)return this.dialog=!0,!1;this.dialog=!1,t="stop-test",this.$emit("closeQuestion",this.container.name)}Object(i["a"])({service:t,container:this.container.name,mode:this.mode,username:"kunlun"}).then((function(t){a["a"].commit("setMessage",t.data.message)})).catch((function(t){console.log(t)}))}}},l=u,h=(e("5bce"),e("2877")),v=e("6544"),d=e.n(v),m=e("8336"),p=e("b0af"),f=e("99d9"),_=e("62ad"),b=e("a523"),g=e("169a"),k=e("ce7e"),w=e("ce87"),C=e("132d"),y=e("0fd9"),S=e("2fa4"),x=e("3a2f"),T=Object(h["a"])(l,r,c,!1,null,"3a8fc192",null),V=T.exports;d()(T,{VBtn:m["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:_["a"],VContainer:b["a"],VDialog:g["a"],VDivider:k["a"],VHover:w["a"],VIcon:C["a"],VRow:y["a"],VSpacer:S["a"],VTooltip:x["a"]});var N=e("71c6"),I=e("985f"),q={name:"ContainernPage",components:{ToolBar:N["a"],Panel:V,AskQuestion:I["a"]},data:function(){return{url:"",ws:null,containerList:[],station:"",containerName:"",version:"",mode:"PRODUCT",question:{name:"",type:"question",question:"",options:[],multiple:!1,visible:!0,image:""}}},mounted:function(){this.url=window.location.hash.substring(1),this.station=this.url.split("/")[2].toUpperCase(),this.initSocket()},beforeDestroy:function(){this.ws.close()},methods:{initSocket:function(){this.getPlatformVersion();var t=i["c"].replace("http","ws")+"/ws"+this.url;this.ws=new WebSocket(t),this.ws.onmessage=this.onMessageSocket,this.ws.onerror=this.onErrorSocket,this.ws.onclose=this.onCloseSocket},onErrorSocket:function(){var t=this;a["a"].commit("setMessage","WS Connection Lost"),setTimeout((function(){t.initSocket()}),3e3)},onSendSocket:function(t){this.ws.send(JSON.stringify(t))},onCloseSocket:function(){return!1},onMessageSocket:function(t){var n=JSON.parse(t.data);"container"===n.type&&this.containerList.forEach((function(t){t.name===n.name&&(t.value=n.data)})),"question"===n.type&&(this.question=n.data,this.containerName=n.name)},getContainerList:function(){var t=this;Object(i["a"])({service:"get-all-containers",station:this.station}).then((function(n){t.containerList=n.data.data})).catch((function(t){console.log(t)}))},closeQuestion:function(t){t===this.containerName&&(this.containerName="")},getPlatformVersion:function(){var t=this;Object(i["a"])({service:"get-platform-version"}).then((function(n){t.version=n.data.data,t.getContainerList()})).catch((function(t){console.log(t)}))},setMode:function(t){this.mode=t}}},A=q,L=Object(h["a"])(A,o,s,!1,null,"2d41ebbe",null);n["default"]=L.exports;d()(L,{VCol:_["a"],VContainer:b["a"],VRow:y["a"]})},"5bce":function(t,n,e){"use strict";e("cad3")},cad3:function(t,n,e){}}]);
//# sourceMappingURL=chunk-19b764f8.b7258f27.js.map